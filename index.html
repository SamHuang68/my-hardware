<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sam Huang's Hardware Registry</title>
    <style>
        /* 全域設定與滾動吸附 (Scroll Snapping) */
        html, body { 
            margin: 0; 
            padding: 0; 
            height: 100%; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: #0a0a0a; 
            color: #eee; 
            overflow: hidden; /* 隱藏原生整頁捲軸，改由 scroll-container 控制 */
        }

        .scroll-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory; /* Y軸強制吸附 */
            scroll-behavior: smooth;
        }

        /* 每個區塊滿版顯示 */
        .section {
            height: 100vh;
            scroll-snap-align: start; /* 滾動時對齊區塊頂部 */
            display: flex;
            flex-direction: column;
            padding: 40px 20px;
            box-sizing: border-box;
            position: relative;
        }

        /* 首頁打招呼區塊 */
        .hero-section {
            justify-content: center;
            align-items: center;
            text-align: center;
            background: linear-gradient(135deg, #121212 0%, #1a1a2e 100%);
        }
        .hero-section h1 { font-size: 3em; margin-bottom: 10px; letter-spacing: 2px; }
        .hero-section p { font-size: 1.2em; color: #888; }
        .scroll-hint { margin-top: 40px; font-size: 0.9em; color: #555; animation: bounce 2s infinite; }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-15px); }
            60% { transform: translateY(-7px); }
        }

        /* 內容區塊容器 */
        .container {
            max-width: 1200px; 
            margin: 0 auto; 
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .section-title { 
            font-size: 2em; 
            border-bottom: 2px solid #333; 
            padding-bottom: 15px; 
            margin-bottom: 30px; 
            color: #fff; 
            text-align: center;
            letter-spacing: 1px;
        }

        /* 讓卡片區域可以內部滾動，防止卡片太多超出螢幕 */
        .grid-wrapper {
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 10px;
            padding-bottom: 20px;
        }

        /* 美化內部滾動條 */
        .grid-wrapper::-webkit-scrollbar { width: 6px; }
        .grid-wrapper::-webkit-scrollbar-track { background: transparent; }
        .grid-wrapper::-webkit-scrollbar-thumb { background-color: #333; border-radius: 10px; }

        .grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); 
            gap: 25px; 
        }

        /* 卡片設計微調，增加質感 */
        .card { 
            background: #161616; 
            border-radius: 12px; 
            padding: 25px; 
            transition: all 0.3s ease; 
            box-shadow: 0 10px 20px rgba(0,0,0,0.5); 
            border: 1px solid #222; 
        }
        .card:hover { 
            transform: translateY(-8px); 
            border-color: #555; 
            box-shadow: 0 15px 30px rgba(0,0,0,0.8);
        }
        .card img { 
            width: 100%; 
            border-radius: 6px; 
            height: 220px; 
            margin-bottom: 20px; 
            object-fit: contain; 
            background: transparent; 
        }
        .tag { 
            display: inline-block; 
            background: #2a2a35; 
            color: #a0a0d0; 
            padding: 5px 10px; 
            border-radius: 6px; 
            font-size: 0.75em; 
            font-weight: bold;
            margin-bottom: 15px; 
            text-transform: uppercase;
        }
        h3 { margin-top: 0; color: #e0e0e0; font-size: 1.4em; border-bottom: 1px solid #222; padding-bottom: 10px; }
        p { margin: 8px 0; font-size: 0.95em; color: #bbb; line-height: 1.5; }
        .spec-label { color: #777; font-weight: bold; margin-right: 6px; display: inline-block; min-width: 60px; }
    </style>
</head>
<body>
    <div class="scroll-container">
        
        <section class="section hero-section">
            <h1>Hardware Registry</h1>
            <p>Sam Huang's Personal Asset Database</p>
            <p style="font-size: 0.9em; margin-top: 20px;">Last Updated: <span id="last-updated" style="color: #fff;"></span></p>
            <div class="scroll-hint">▼ SCROLL TO EXPLORE ▼</div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">COMPUTING SYSTEMS</h2>
                <div class="grid-wrapper">
                    <div class="grid" id="systems-grid"></div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">VISUAL ASSETS</h2>
                <div class="grid-wrapper">
                    <div class="grid" id="displays-grid"></div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">PERIPHERALS & AUDIO</h2>
                <div class="grid-wrapper">
                    <div class="grid" id="peripherals-grid"></div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2 class="section-title">POWER ASSETS</h2>
                <div class="grid-wrapper">
                    <div class="grid" id="power-grid"></div>
                </div>
            </div>
        </section>

    </div>

    <script>
        fetch('data.json')
            .then(res => res.json())
            .then(data => {
                document.getElementById('last-updated').textContent = data?.last_updated || 'Unknown';

                // Render Computing Systems
                const sysGrid = document.getElementById('systems-grid');
                data?.hardware_registry?.forEach(sys => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    
                    let gpuText = 'N/A';
                    if (sys?.gpu) {
                        gpuText = typeof sys.gpu === 'string' ? sys.gpu : (sys.gpu.external || sys.gpu.internal || 'N/A');
                    }

                    // 確保所有詳細規格皆顯示，無預留文字背景
                    card.innerHTML = `
                        <img src="${sys?.image_path || 'images/default.png'}" alt="${sys?.name || 'Device'}" onerror="this.src='data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'300\\' height=\\'200\\'><text x=\\'50%\\' y=\\'50%\\' fill=\\'%23444\\' dominant-baseline=\\'middle\\' text-anchor=\\'middle\\' font-family=\\'sans-serif\\' font-size=\\'14\\'>No Image Available</text></svg>'">
                        <span class="tag">${sys?.form_factor || 'Unknown'}</span>
                        <h3>${sys?.name || 'Unknown Device'}</h3>
                        ${sys?.cpu?.model ? `<p><span class="spec-label">CPU:</span> ${sys.cpu.model}</p>` : ''}
                        ${sys?.motherboard ? `<p><span class="spec-label">Mobo:</span> ${sys.motherboard}</p>` : ''}
                        ${sys?.ram?.capacity ? `<p><span class="spec-label">RAM:</span> ${sys.ram.capacity} ${sys.ram.spec ? `(${sys.ram.spec})` : ''}</p>` : ''}
                        ${gpuText !== 'N/A' ? `<p><span class="spec-label">GPU:</span> ${gpuText}</p>` : ''}
                        ${sys?.storage?.primary ? `<p><span class="spec-label">Disk:</span> ${sys.storage.primary}</p>` : ''}
                        ${sys?.power_supply ? `<p><span class="spec-label">PSU:</span> ${sys.power_supply}</p>` : ''}
                        ${sys?.case ? `<p><span class="spec-label">Case:</span> ${sys.case}</p>` : ''}
                        ${sys?.features ? `<p><span class="spec-label">Extra:</span> ${sys.features}</p>` : ''}
                    `;
                    sysGrid.appendChild(card);
                });

                // Render Displays
                const dispGrid = document.getElementById('displays-grid');
                data?.display_assets?.forEach(disp => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <span class="tag">Display</span>
                        <h3>${disp?.name || 'Unknown Display'}</h3>
                        ${disp?.panel ? `<p><span class="spec-label">Panel:</span> ${disp.panel}</p>` : ''}
                    `;
                    dispGrid.appendChild(card);
                });

                // Render Peripherals & Audio
                const periphGrid = document.getElementById('peripherals-grid');
                data?.peripherals?.forEach(p => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <span class="tag">${p?.category || 'Accessory'}</span>
                        <h3>${p?.name || 'Unknown Peripheral'}</h3>
                    `;
                    periphGrid.appendChild(card);
                });

                // Render Power Assets
                const powerGrid = document.getElementById('power-grid');
                data?.power_assets?.forEach(p => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <span class="tag">${p?.category || 'Power'}</span>
                        <h3>${p?.name || 'Unknown Power Device'}</h3>
                    `;
                    powerGrid.appendChild(card);
                });
            })
            .catch(err => {
                console.error('Error loading data:', err);
                document.getElementById('systems-grid').innerHTML = '<p style="color: #ff5555;">Failed to load data.json. Please ensure it is in the same directory.</p>';
            });
    </script>
</body>
</html>
