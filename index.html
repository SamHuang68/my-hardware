<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>Hardware Asset Registry | Management Console</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background: #0a0a0a; color: #d1d5db; font-family: 'Consolas', 'Monaco', monospace; }
        .data-table { width: 100%; border-collapse: collapse; margin-bottom: 2rem; }
        .data-table th, .data-table td { border: 1px solid #333; padding: 12px; text-align: left; font-size: 0.85rem; }
        .data-table th { background: #1a1a1a; color: #3b82f6; text-transform: uppercase; }
        .tag-mop { background: #1e3a8a; color: #60a5fa; padding: 2px 6px; border-radius: 4px; font-weight: bold; }
        .status-active { color: #10b981; }
        .section-title { font-size: 1.5rem; font-weight: bold; color: #fff; margin: 2rem 0 1rem 0; border-left: 4px solid #3b82f6; padding-left: 1rem; }
    </style>
</head>
<body class="p-8 lg:p-16">

    <header class="mb-12 border-b border-gray-800 pb-6">
        <h1 class="text-3xl font-bold text-white uppercase tracking-widest">Hardware Inventory Management</h1>
        <p id="meta-info" class="text-gray-500 mt-2"></p>
    </header>

    <div id="registry-container">
        </div>

    <script>
        async function loadInventory() {
            const response = await fetch('data.json');
            const data = await response.json();
            document.getElementById('meta-info').innerText = `Database Last Sync: ${data.last_updated} | Owner: ${data.inventory_owner}`;

            const container = document.getElementById('registry-container');

            // 1. Computing Systems Table
            container.innerHTML += `<div class="section-title">Computing & AI Systems</div>`;
            let systemsTable = `<table class="data-table">
                <thead>
                    <tr>
                        <th>System Name</th>
                        <th>Processor (CPU)</th>
                        <th>Memory (RAM)</th>
                        <th>Storage (SSD)</th>
                        <th>Graphics (GPU)</th>
                        <th>Power / Case</th>
                        <th>Upgrade & Maintenance Notes</th>
                    </tr>
                </thead>
                <tbody>`;

            data.hardware_registry.forEach(item => {
                const ramDisplay = item.ram.spec ? item.ram.spec : `${item.ram.config} (${item.ram.type})`;
                const psuDisplay = item.power_supply ? `${item.power_supply.model}` : "N/A";
                
                systemsTable += `
                    <tr>
                        <td class="font-bold text-white">${item.name}<br><span class="text-[10px] text-gray-500">${item.id}</span></td>
                        <td>${item.cpu.model}<br><span class="text-[10px]">${item.cpu.architecture}</span></td>
                        <td>${ramDisplay.includes('MoP') ? `<span class="tag-mop">MoP</span> ` + ramDisplay : ramDisplay}</td>
                        <td>${item.storage.primary}</td>
                        <td>${item.gpu ? item.gpu.model : (item.gpu_external ? item.gpu_external.model : item.gpu_internal.model)}</td>
                        <td>${psuDisplay}</td>
                        <td class="text-orange-400 text-xs">${item.upgrade_notes}</td>
                    </tr>`;
            });
            systemsTable += `</tbody></table>`;
            container.innerHTML += systemsTable;

            // 2. Displays Table
            container.innerHTML += `<div class="section-title">Visual Ecosystem (Display Wall)</div>`;
            let displayTable = `<table class="data-table">
                <thead><tr><th>Monitor Model</th><th>Panel Specs</th><th>Key Features</th><th>Primary Role</th></tr></thead>
                <tbody>`;
            data.display_assets.forEach(d => {
                displayTable += `<tr>
                    <td class="font-bold text-blue-400">${d.name}</td>
                    <td>${d.panel}</td>
                    <td class="text-xs">${d.features.join(' | ')}</td>
                    <td>${d.role}</td>
                </tr>`;
            });
            displayTable += `</tbody></table>`;
            container.innerHTML += displayTable;

            // 3. Appliances
            container.innerHTML += `<div class="section-title">Household Tech</div>`;
            let applianceList = `<ul class="space-y-2 mb-20">`;
            data.household_tech.forEach(h => {
                applianceList += `<li class="text-gray-400"><strong>${h.name}</strong> - ${h.type} <span class="status-active ml-4">[STATUS: ${h.status}]</span></li>`;
            });
            applianceList += `</ul>`;
            container.innerHTML += applianceList;
        }
        loadInventory();
    </script>
</body>
</html>